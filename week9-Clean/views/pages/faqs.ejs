
<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head'); %>
</head>
<body class="container">
    <header><%- include('../partials/header'); %></header>
    <main>
<h1>I am the FAQ File</h1>
<% rows.forEach(row => { %>
    <div class="faq-container"> 
      <div class="faq-item">
          <button class="faq-question">
              <%= q=row.question %> 
              <span class="arrow">&#9660;</span>
          </button>
              <div class="faq-answer">
                  <p><%= q=row.answer %></p>
              </div>
          </div>
      </div>
  <% }) %>
  </div>
</main>
  
<footer><%- include('../partials/footer'); %></footer>
<script>

const faqQuestions = document.querySelectorAll('.faq-question');

// Loop through each question button
faqQuestions.forEach(question => {
    // Add a click event listener to each question
    question.addEventListener('click', () => {
        // Close any other open answers except the one clicked
        faqQuestions.forEach(item => {
            if (item !== question) {
                item.classList.remove('active'); // Remove 'active' class to reset arrow rotation
                item.nextElementSibling.style.maxHeight = null; // Collapse the answer
            }
        });

        // Toggle 'active' class on the clicked question to rotate the arrow
        question.classList.toggle('active');

        // Select the corresponding answer div
        const answer = question.nextElementSibling;

        // Check if the answer is already open
        if (answer.style.maxHeight) {
            // If open, close it by resetting max-height
            answer.style.maxHeight = null;
        } else {
            // If closed, set max-height to scrollHeight to expand it
            answer.style.maxHeight = answer.scrollHeight + 'px';
        }
    });
});

</script>
</body>
</html>